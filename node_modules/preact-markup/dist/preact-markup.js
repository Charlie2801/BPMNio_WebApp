var r,e=require("preact"),t={};function o(r,e,t){if(3===r.nodeType){var n="textContent"in r?r.textContent:r.nodeValue||"";if(!1!==o.options.trim){var i=0===e||e===t.length-1;if((!(n=n.match(/^[\s\n]+$/g)&&"all"!==o.options.trim?" ":n.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===o.options.trim||i?"":" "))||" "===n)&&t.length>1&&i)return null}return n}if(1!==r.nodeType)return null;var p=String(r.nodeName).toLowerCase();if("script"===p&&!o.options.allowScripts)return null;var l,s,u=o.h(p,function(r){var e=r&&r.length;if(!e)return null;for(var t={},n=0;n<e;n++){var a=r[n],i=a.name,p=a.value;"on"===i.substring(0,2)&&o.options.allowEvents&&(p=new Function(p)),t[i]=p}return t}(r.attributes),(s=(l=r.childNodes)&&Array.prototype.map.call(l,o).filter(a))&&s.length?s:null);return o.visitor&&o.visitor(u),u}var n,a=function(r){return r},i={};function p(r){var e=(r.type||"").toLowerCase(),t=p.map;t&&t.hasOwnProperty(e)?(r.type=t[e],r.props=Object.keys(r.props||{}).reduce(function(e,t){var o;return e[(o=t,o.replace(/-(.)/g,function(r,e){return e.toUpperCase()}))]=r.props[t],e},{})):r.type=e.replace(/[^a-z0-9-]/i,"")}module.exports=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.setReviver=function(r){n=r},l.prototype.shouldComponentUpdate=function(r){var e=this.props;return r.wrap!==e.wrap||r.type!==e.type||r.markup!==e.markup},l.prototype.setComponents=function(r){if(this.map={},r)for(var e in r)if(r.hasOwnProperty(e)){var t=e.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[t]=r[e]}},l.prototype.render=function(a){var l=a.wrap;void 0===l&&(l=!0);var s,u=a.type,c=a.markup,m=a.components,v=a.reviver,d=a.onError,f=a["allow-scripts"],h=a["allow-events"],y=a.trim,w=function(r,e){var t={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&-1===e.indexOf(o)&&(t[o]=r[o]);return t}(a,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),C=v||this.reviver||this.constructor.prototype.reviver||n||e.h;this.setComponents(m);var g={allowScripts:f,allowEvents:h,trim:y};try{s=function(e,n,a,l,s){var u=function(e,t){var o,n,a,i,p="html"===t?"text/html":"application/xml";"html"===t?(i="body",a="<!DOCTYPE html>\n<html><body>"+e+"</body></html>"):(i="xml",a='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+e+"</xml>");try{o=(new DOMParser).parseFromString(a,p)}catch(r){n=r}if(o||"html"!==t||((o=r||(r=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var r=document.createElement("iframe");return r.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",r.setAttribute("sandbox","allow-forms"),document.body.appendChild(r),r.contentWindow.document}())).open(),o.write(a),o.close()),o){var l=o.getElementsByTagName(i)[0],s=l.firstChild;return e&&!s&&(l.error="Document parse failed."),s&&"parsererror"===String(s.nodeName).toLowerCase()&&(s.removeChild(s.firstChild),s.removeChild(s.lastChild),l.error=s.textContent||s.nodeValue||n||"Unknown error",l.removeChild(s)),l}}(e,n);if(u&&u.error)throw new Error(u.error);var c=u&&u.body||u;p.map=l||i;var m=c&&function(r,e,n,a){return o.visitor=e,o.h=n,o.options=a||t,o(r)}(c,p,a,s);return p.map=null,m&&m.props&&m.props.children||null}(c,u,C,this.map,g)}catch(r){d?d({error:r}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+r)}if(!1===l)return s||null;var x=w.hasOwnProperty("className")?"className":"class",b=w[x];return b?b.splice?b.splice(0,0,"markup"):"string"==typeof b?w[x]+=" markup":"object"==typeof b&&(b.markup=!0):w[x]="markup",C("div",w,s||null)},l}(e.Component);
//# sourceMappingURL=preact-markup.js.map
