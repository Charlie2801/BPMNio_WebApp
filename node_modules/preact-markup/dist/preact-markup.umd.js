!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("preact")):"function"==typeof define&&define.amd?define(["preact"],r):e.preactMarkup=r(e.preact)}(this,function(e){var r,t={};function o(e,r,t){if(3===e.nodeType){var n="textContent"in e?e.textContent:e.nodeValue||"";if(!1!==o.options.trim){var a=0===r||r===t.length-1;if((!(n=n.match(/^[\s\n]+$/g)&&"all"!==o.options.trim?" ":n.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===o.options.trim||a?"":" "))||" "===n)&&t.length>1&&a)return null}return n}if(1!==e.nodeType)return null;var p=String(e.nodeName).toLowerCase();if("script"===p&&!o.options.allowScripts)return null;var l,s,u=o.h(p,function(e){var r=e&&e.length;if(!r)return null;for(var t={},n=0;n<r;n++){var i=e[n],a=i.name,p=i.value;"on"===a.substring(0,2)&&o.options.allowEvents&&(p=new Function(p)),t[a]=p}return t}(e.attributes),(s=(l=e.childNodes)&&Array.prototype.map.call(l,o).filter(i))&&s.length?s:null);return o.visitor&&o.visitor(u),u}var n,i=function(e){return e},a={};function p(e){var r=(e.type||"").toLowerCase(),t=p.map;t&&t.hasOwnProperty(r)?(e.type=t[r],e.props=Object.keys(e.props||{}).reduce(function(r,t){var o;return r[(o=t,o.replace(/-(.)/g,function(e,r){return r.toUpperCase()}))]=e.props[t],r},{})):e.type=r.replace(/[^a-z0-9-]/i,"")}return function(i){function l(){i.apply(this,arguments)}return i&&(l.__proto__=i),(l.prototype=Object.create(i&&i.prototype)).constructor=l,l.setReviver=function(e){n=e},l.prototype.shouldComponentUpdate=function(e){var r=this.props;return e.wrap!==r.wrap||e.type!==r.type||e.markup!==r.markup},l.prototype.setComponents=function(e){if(this.map={},e)for(var r in e)if(e.hasOwnProperty(r)){var t=r.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[t]=e[r]}},l.prototype.render=function(i){var l=i.wrap;void 0===l&&(l=!0);var s,u=i.type,c=i.markup,m=i.components,f=i.reviver,d=i.onError,v=i["allow-scripts"],h=i["allow-events"],y=i.trim,w=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===r.indexOf(o)&&(t[o]=e[o]);return t}(i,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),C=f||this.reviver||this.constructor.prototype.reviver||n||e.h;this.setComponents(m);var g={allowScripts:v,allowEvents:h,trim:y};try{s=function(e,n,i,l,s){var u=function(e,t){var o,n,i,a,p="html"===t?"text/html":"application/xml";"html"===t?(a="body",i="<!DOCTYPE html>\n<html><body>"+e+"</body></html>"):(a="xml",i='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+e+"</xml>");try{o=(new DOMParser).parseFromString(i,p)}catch(e){n=e}if(o||"html"!==t||((o=r||(r=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var e=document.createElement("iframe");return e.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",e.setAttribute("sandbox","allow-forms"),document.body.appendChild(e),e.contentWindow.document}())).open(),o.write(i),o.close()),o){var l=o.getElementsByTagName(a)[0],s=l.firstChild;return e&&!s&&(l.error="Document parse failed."),s&&"parsererror"===String(s.nodeName).toLowerCase()&&(s.removeChild(s.firstChild),s.removeChild(s.lastChild),l.error=s.textContent||s.nodeValue||n||"Unknown error",l.removeChild(s)),l}}(e,n);if(u&&u.error)throw new Error(u.error);var c=u&&u.body||u;p.map=l||a;var m=c&&function(e,r,n,i){return o.visitor=r,o.h=n,o.options=i||t,o(e)}(c,p,i,s);return p.map=null,m&&m.props&&m.props.children||null}(c,u,C,this.map,g)}catch(e){d?d({error:e}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+e)}if(!1===l)return s||null;var x=w.hasOwnProperty("className")?"className":"class",b=w[x];return b?b.splice?b.splice(0,0,"markup"):"string"==typeof b?w[x]+=" markup":"object"==typeof b&&(b.markup=!0):w[x]="markup",C("div",w,s||null)},l}(e.Component)});
//# sourceMappingURL=preact-markup.umd.js.map
